<!DOCTYPE html>
<html lang="zh-Hans">
<head>

    <!--[if lt IE 9]>
        <style>body {display: none; background: none !important} </style>
        <meta http-equiv="Refresh" Content="0; url=//outdatedbrowser.com/" />
    <![endif]-->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no" />
<meta name="author" content="Any_冰" />


    
    


<meta name="description" content="hello,every body!~">
<meta property="og:type" content="website">
<meta property="og:title" content="Tell YOU">
<meta property="og:url" content="https://www.5cc.xyz/page/2/index.html">
<meta property="og:site_name" content="Tell YOU">
<meta property="og:description" content="hello,every body!~">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Tell YOU">
<meta name="twitter:description" content="hello,every body!~">

<link rel="apple-touch-icon" href= "/apple-touch-icon.png">


    <link rel="alternate" href="/atom.xml" title="Tell YOU" type="application/atom+xml">



    <link rel="shortcut icon" href="/favicon.png">



    <link href="//cdn.bootcss.com/animate.css/3.5.1/animate.min.css" rel="stylesheet">



    <link href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet">



    <script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
    <link href="//cdn.bootcss.com/pace/1.0.2/themes/blue/pace-theme-minimal.css" rel="stylesheet">


<link rel="stylesheet" href="/css/style.css">


    <style> .article { opacity: 0;} </style>


<link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">


<title>Tell YOU</title>

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>

<script>
    var yiliaConfig = {
        fancybox: true,
        animate: true,
        isHome: true,
        isPost: false,
        isArchive: false,
        isTag: false,
        isCategory: false,
        fancybox_js: "//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js",
        scrollreveal: "//cdn.bootcss.com/scrollReveal.js/3.1.4/scrollreveal.min.js",
        search: true
    }
</script>


    <script> yiliaConfig.jquery_ui = [false]; </script>



    <script> yiliaConfig.rootUrl = "\/";</script>






</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            <img src="/img/avatar.png" class="animated zoomIn">
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">Any_冰</a></h1>
        </hgroup>

        
        <p class="header-subtitle">~！随手记录生活点点滴滴!~</p>
        

        
            <form id="search-form">
            <input type="text" id="local-search-input" name="q" placeholder="search..." class="search form-control" autocomplete="off" autocorrect="off" searchonload="false" />
            <i class="fa fa-times" onclick="resetSearch()"></i>
            </form>
            <div id="local-search-result"></div>
            <p class='no-result'>No results found <i class='fa fa-spinner fa-pulse'></i></p>
        


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">主页</a></li>
                        
                            <li><a href="/archives/">所有文章</a></li>
                        
                            <li><a href="/tags/">标签云</a></li>
                        
                            <li><a href="/about/">关于我</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" href="mailto:test@fbicn.xyz" title="Email"></a>
                            
                                <a class="fa GitHub" href="#" title="GitHub"></a>
                            
                                <a class="fa RSS" href="/atom.xml" title="RSS"></a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/sock5/">sock5</a></li></ul>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a class="main-nav-link switch-friends-link" href="https://hexo.io">Hexo</a>
                    
                      <a class="main-nav-link switch-friends-link" href="https://pages.github.com/">GitHub</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://moxfive.xyz/">MOxFIVE</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">专注于前端</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">Any_冰</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img src="/img/avatar.png" class="animated zoomIn">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">Any_冰</a></h1>
            </hgroup>
            
            <p class="header-subtitle">~！随手记录生活点点滴滴!~</p>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">主页</a></li>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/tags/">标签云</a></li>
                
                    <li><a href="/about/">关于我</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" target="_blank" href="mailto:test@fbicn.xyz" title="Email"></a>
                            
                                <a class="fa GitHub" target="_blank" href="#" title="GitHub"></a>
                            
                                <a class="fa RSS" target="_blank" href="/atom.xml" title="RSS"></a>
                            
                        </ul>
            </nav>
        </header>                
    </div>
    <link class="menu-list" tags="标签" friends="友情链接" about="关于我"/>
</nav>
      <div class="body-wrap">
  
    <article id="post-htaccess-e6-95-99-e7-a8-8b-ef-bc-9a-e7-ae-80-e4-bb-8b-e3-80-81-e8-ae-bf-e9-97-ae-e6-8e-a7-e5-88-b6-e3-80-81-e9-aa-8c-e8-af-81-e3-80-81-e7-9b-ae-e5-bd-95-e6-b5-8f-e8-a7-88-e6-8e-a7-e5-88-b6" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/08/20/htaccess-e6-95-99-e7-a8-8b-ef-bc-9a-e7-ae-80-e4-bb-8b-e3-80-81-e8-ae-bf-e9-97-ae-e6-8e-a7-e5-88-b6-e3-80-81-e9-aa-8c-e8-af-81-e3-80-81-e7-9b-ae-e5-bd-95-e6-b5-8f-e8-a7-88-e6-8e-a7-e5-88-b6/" class="article-date">
      <time datetime="2016-08-20T04:46:36.000Z" itemprop="datePublished">2016-08-20</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/20/htaccess-e6-95-99-e7-a8-8b-ef-bc-9a-e7-ae-80-e4-bb-8b-e3-80-81-e8-ae-bf-e9-97-ae-e6-8e-a7-e5-88-b6-e3-80-81-e9-aa-8c-e8-af-81-e3-80-81-e7-9b-ae-e5-bd-95-e6-b5-8f-e8-a7-88-e6-8e-a7-e5-88-b6/">.htaccess教程：简介、访问控制、验证、目录浏览控制</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <div class="text"><br><br>## 一、.htaccess简介<br><br>### 1.什么是.htaccess<br><br>.htaccess是一个纯文本文件，里面存放着Apache服务器配置相关的一些指令，它类似于Apache的站点配置文件，如httpd.conf（Apache2已经支持多站点，因此你的站点配置文件可能在/etc/apache2/conf.d/目录下）。<br>.htaccess与httpd.conf配置文件不同的是，它<strong>只作用于当前目录</strong>。另外httpd.conf是在Apache服务启动的时候就加载的，而.htaccess<strong>只有在用户访问目录时加载</strong>，开销大、速度慢。<br>既然如此，为什么我们还要用.htaccess呢？因为它配置起来简单，它还支持重定向、URL重写以及访问验证，另外它管理起来很方便，可以很好适应网站迁移。总之，各有优缺点，主要就看你是要从全局考虑还是只配置单个目录。<br><br>### 2.AllowOverride All<br><br>通常情况下，Apache是默认启用.htaccess的，但是为了以防万一，请检查一下自己站点的配置文件，如httpd.conf，是否有这行：<br><pre>AllowOverride All<br></pre><br>这行允许重写配置文件。也就是如果能够从.htaccess加载配置文件，那么就以.htaccess为配置文件对其所在目录进行配置。<br><br>### 3.500错误<br><br>如果你租用了云服务提供商的主机或者空间，那么他们可能不会给你读写httpd.conf文件的权限，你也不可能检查<strong>AllowOverride</strong>命令参数是否为<strong>All</strong>，这时，你可以新建一个目录，在里面写一个.htaccess文件，文件中随意写入一些服务器看不懂的东西，然后访问该目录里的一个页面，耐心等待<strong>500错误</strong>的出现。<br>如果没有出现，那么.htaccess没有被启用，你需要向你的服务供应商寻求帮助；如果出现了，那么恭喜你，你可以对当前目录重写Apache配置。<br><strong>/!\注意：</strong>.htaccess语法错误可能会影响整个站点，如果你不确定这样做是否安全，请联系你的云服务供应商。<br><br>### 4.有用的文档<br><br><em>   <a href="http://lesca.me/archives/htaccess-appendix.html#htaccess_regex" target="_blank" rel="external">.htaccess正则表达式</a>
</em>   <a href="http://lesca.me/archives/htaccess-appendix.html#redirect_codes" target="_blank" rel="external">HTTP协议重定向编码</a><br><br>## 二、.htaccess访问控制(Allow/Deny)<br><br>### 1.访问控制基础：Order命令<br><br>为了限制用户访问一些关键目录，.htaccess可以提供目录访问限制。你只需要在要限制的目录中，加入如下.htaccess文件：<br><pre># no one gets in here!<br>deny from all<br></pre><br>这会限制所有用户通过浏览器访问该目录，这太一刀切了，因此我们还可以增加一些特定的条件，如允许指定IP地址的访问：<br><pre>Order Allow,Deny<br>Deny from All<br>Allow from 192.168.0.0/24<br></pre><br><br>### Order命令<br><br>Order命令是一个难点，也是配置apache的基础，它决定了Apache处理访问规则的顺序。<br><br><em>   通过<strong>Allow,Deny</strong>参数，Apache首先找到并应用<strong>Allow</strong>命令，然后应用<strong>Deny</strong>命令，以阻止所有访问。
</em>   通过<strong>Deny,Allow</strong>参数，Apache首先找到并应用<strong>Deny</strong>命令，然后应用<strong>Allow</strong>命令，以允许所有访问。<br>了解Order的用法后，再仔细考虑下上面的例子，你或许能够发现<strong>Deny</strong>命令是多余的，以下用法和之前的描述语义相同：<br><pre>Order Allow,Deny<br>Allow from 192.168.0/24<br></pre><br><br>### 2.利用.htaccess过滤域名或网络主机(Allow/Deny)<br><br>下例可以限制所有含有“domain.com”的网络主机访问网站：<br><pre>Order Allow,Deny<br>Allow from all<br>Deny from .<em>domain.com.</em><br></pre><br><strong>{!}Info</strong>：有关htaccess的正则表达式用法，请查阅本站《<a href="http://lesca.me/archives/htaccess-appendix.html#htaccess_regex" target="_blank" rel="external">.htaccess正则表达式</a>》一文。<br><br>### 3.利用.htaccess禁止访问指定文件(Files)<br><br>Files命令可以用于过滤指定文件：<br><pre># secure htaccess file<br>&lt;Files .htaccess&gt;<br> order allow,deny<br> deny from all<br>&lt;/Files&gt;<br></pre><br><br>### 4.利用.htaccess禁止访问指定文件类型(FilesMatch)<br><br>下面的代码将限制访问所有.log和.exe文件：<br><pre>&lt;FilesMatch “.(log|exe)$”&gt;<br> Order allow,deny<br> Deny from all<br>&lt;/FilesMatch&gt;<br></pre><br>我们还可以通过<strong>Files</strong>命令描述文件类型，但是需要在命令后面加一个波浪线(~)，该符号启用Files命令的正则表达解析功能：<br><pre>&lt;Files ~ “^.<em>.([Ll][Oo][Gg])|([eE][xX][eE])”&gt;<br> Order allow,deny<br> Deny from all<br> Satisfy All<br>&lt;/Files&gt;<br></em></pre><br>有以下几点需要读者注意：

   Files之后的<strong>波浪线</strong>用于开启“正则表达式”分析。请注意，这是个过时的用法，Apache<a href="http://httpd.apache.org/docs/2.2/mod/core.html#files" target="_blank" rel="external">更推荐使用&lt;FilesMatch&gt;指令</a><sup>[3]</sup><br><em>   正则表达式必须在<strong>双引号</strong>之间，有关htaccess的正则表达式用法，请查阅本站《<a href="http://lesca.me/archives/htaccess-appendix.html#htaccess_regex" target="_blank" rel="external">.htaccess正则表达式</a>》一文。
</em>   双引号中的“管道符”(|)用于将两种文件类型（.log和.exe）分开，相当于逻辑“或”<br><em>   Order命令必须嵌在Files节(Section)中，否则将会应用到所有文件
</em>   <strong>Satisfy All</strong>表示必须同时满足主机级别(Allow/Denay)和用户级别(Require)的限制，All是默认值，该行可以省略。<br><br>### 5.高级访问控制(Rewrite)<br><br>我们还可以通过运用Rewrite实现更强大的访问控制，但是Rewrite不是本文讨论的内容。读者可以参看：<a href="http://lesca.me/archives/htaccess-rewrite.html#access_control" target="_blank" rel="external">利用RewriteCond和RewriteRule进行访问控制</a>一文。<br><br>## 三、利用.htaccess进行密码保护与验证<br><br>### 1.配置.htaccess<br><br><pre>AuthType Basic<br>AuthName “restricted area”<br>AuthUserFile /usr/local/var/www/html/.htpasses<br>require valid-user<br></pre><br>这个配置文件可以保护.htaccess所在的整个目录，简单说明下参数：<br><br><em>   <strong>AuthType：</strong>验证类型为基本类型，密码以<strong>明文</strong>方式传输到服务器上
</em>   <strong>AuthName：</strong>验证提示，会出现在验证对话框中<br><em>   <strong>AuthUserFile：</strong>验证配置文件，用于匹配用户名与密码，该密码是加密保存的
</em>   <strong>require valid-user：</strong>只有在AuthUserFile中出现的用户才可以通过验证<br>如果验证失败，则会出现<strong>401</strong>错误。<br><br>### 2.生成.htpasses文件<br><br>如何生成.htpasses文件呢？我们通过<code>htpasswd</code>命令生成密码文件：<br><pre>htpasswd -c /usr/local/var/www/html/.htpasses lesca<br></pre><br>它会提示你输入密码，并确认。之后将密码文件.htpasses保存在/usr/local/var/www/html/目录下。<br><br>### 3.对文件进行密码保护<br><br>保护与.htaccess在同一目录下的文件<strong>secure.php</strong>：<br><pre># password-protect single file<br>&lt;Files secure.php&gt;<br>AuthType Basic<br>AuthName “Prompt”<br>AuthUserFile /home/path/.htpasswd<br>Require valid-user<br>&lt;/Files&gt;<br></pre><br>保护.htaccess所在目录下的多个文件：<br><pre># password-protect multiple files<br>&lt;FilesMatch “^(execute|index|secure|insanity|biscuit)<em>$”&gt;<br>AuthType basic<br>AuthName “Development”<br>AuthUserFile /home/path/.htpasswd<br>Require valid-user<br>&lt;/FilesMatch&gt;<br></em></pre><br><br>### 4.对指定IP进行密码保护<br><br>仅允许IP地址为99.88.77.66的主机直接访问该目录，其他IP需要验证。<br><pre>AuthType Basic<br>AuthName “Personal”<br>AuthUserFile /home/path/.htpasswd<br>Require valid-user<br>Allow from 99.88.77.66<br>Satisfy Any<br></pre><br><br>### 5.安全性<br><br>出于安全考虑，将.htpasses文件存放在WEB目录树之外也许是个好方法，但是由于.htpasses是隐藏文件，而且Apache不会输出隐藏文件，因此可以满足基本的安全要求。这是通过在主配置文件中加入如下限制实现的：<br><pre>&lt;Files ~ “^.ht”&gt;<br> Order allow,deny<br> Deny from all<br> Satisfy All<br>&lt;/Files&gt;<br></pre><br>一般而言，这是默认设置，用户无需手动添加。我们唯一需要担心的是密码在网络传输过程中是<strong>明文</strong>形式，这很容易被黑客破译。Coz<sup>[1]</sup>提供了一个开源项目<a href="http://corz.org/serv/security/pajamas.php" title="php and javascript advanced md5 authentication system" target="_blank" rel="external">Pajamas</a>可以在本地利用JS对密码进行MD5加密，有兴趣的读者可以前去研究一下。<br><br>## 四、目录浏览与主页<br><br>如果你打开本站的下载页面<a href="http://download.lesca.me/" target="_blank" rel="external">http://download.lesca.me/</a>，就会发现你可以看见这个站点下的所有文件。像这样的特性也可以通.htaccess来设置用户是否有权限浏览服务器目录。<br><br>### 1.启用目录浏览<br><br><pre># enable directory browsing<br>Options All +Indexes<br></pre><br><br>### 2.禁用目录浏览<br><br><pre># disable directory browsing<br>Options All -Indexes<br></pre><br>我们还可以通过<strong>IndexIgnore</strong>指令来禁用目录浏览。<br><pre># prevent folder listing<br>IndexIgnore <br></pre><br>通过<strong>IndexIgnore</strong>指令，我们可以禁止对指定类型的文件浏览：<br><pre># prevent display of select file types<br>IndexIgnore <em>.wmv </em>.mp4 <em>.avi </em>.etc<br></pre><br><br>### 3.自定义目录浏览<br><br>如果你希望Apache在展示你的WEB目录时看起来与众不同，那么你需要启用<strong>FancyIndexing</strong>选项：<br><pre>&lt;IfModule mod_autoindex.c&gt;<br> IndexOptions FancyIndexing<br>&lt;/ifModule&gt;<br></pre><br>通过这个选项，你可以实现自定义图标、添加文件类型描述、按日期排序等。但是这些已经超过了本文的讨论范围，Lesca可以给你一个做好的<a href="http://corz.org/serv/resources/file_view.htaccess.txt?raw=true" title="file_view.htaccess" target="_blank" rel="external">例子</a>，你可以在<a href="http://corz.org/public/images/" target="_blank" rel="external">这页查看效果</a>。<br><br>### 4.配置目录主页文件<br><br>即使启用了目录浏览，Apache未必会展示该目录的内容，因为该目录可能存在像index.htm这样的默认主页文件。Apache会有限展示主页文件，我们可以通过.htaccess设置：<br><pre>DirectoryIndex index.html index.php index.htm<br></pre><br><br>### 5.配置错误页面<br><br>如果Apache遇到错误，就会输出错误页面。配置自定义的错误页面，也许可以挽留即将离开的用户。<br><pre># custom error documents<br>ErrorDocument 401 /err/401.php<br>ErrorDocument 403 /err/403.php<br>ErrorDocument 404 /err/404.php<br>ErrorDocument 500 /err/500.php<br></pre><br><br>## 五、URL重写与URL重定向<br><br>下一篇文章，我们将介绍htaccess的重头戏：<a href="http://lesca.me/archives/htaccess-rewrite.html" target="_blank" rel="external">URL重写与URL重定向</a><br><br>## References:<br><br>[1] <a href="http://corz.org/serv/tricks/htaccess.php" target="_blank" rel="external">.htaccess tips and tricks</a><br>[2] <a href="http://perishablepress.com/stupid-htaccess-tricks/" target="_blank" rel="external">Stupid htaccess Tricks</a><br>[3] <a href="http://httpd.apache.org/docs/2.2/mod/core.html#files" target="_blank" rel="external">Files Directive</a><br><br></div><br><div class="text_add"><br><br>本文出自 Lesca技术宅，转载时请注明出处及相应链接。<br><br>本文永久链接: <a href="http://lesca.me/archives/htaccess-basic.html" target="_blank" rel="external">http://lesca.me/archives/htaccess-basic.html</a><br><br></div>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/apache/">apache</a>
    </div>


      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-e5-87-a0-e4-b8-aa-e5-8f-af-e4-bb-a5-e5-85-8d-e8-b4-b9-e5-9c-a8-e7-ba-bf" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/07/05/e5-87-a0-e4-b8-aa-e5-8f-af-e4-bb-a5-e5-85-8d-e8-b4-b9-e5-9c-a8-e7-ba-bf/" class="article-date">
      <time datetime="2016-07-05T06:51:42.000Z" itemprop="datePublished">2016-07-05</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/05/e5-87-a0-e4-b8-aa-e5-8f-af-e4-bb-a5-e5-85-8d-e8-b4-b9-e5-9c-a8-e7-ba-bf/">几个可以免费在线</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="几个可以免费在线收短信的网站"><a href="#几个可以免费在线收短信的网站" class="headerlink" title="几个可以免费在线收短信的网站"></a>几个可以免费在线收短信的网站</h1><pre class="prettyprint linenums">Receive-SMS.com
Address: www.receive-sms.com  www.receive-sms.com
Country of the phone number: UK, Sweden8
Requirements:No registration.! 

ReceiveFreeSMS.com
Address: www.receivefreesms.com
Country of the phone number: US, UK, Norway, Sweden, Netherlands, Australia, Hungary, Lithuania, Spai
Requirements:No registration
ReceiveSMSOnline.net
Address: www.receivesmsonline.net
Country of the phone number: US, UK
Requirements:No registration.
 FreeOnlinePhone.org
Address: www.freeonlinephone.org
Country of the phone number: US
Requirements:No registratio
 Receive-sms-online.com
Address: http://receive-sms-online.com
Country of the phone number: Norway, UK;
Requirements:No registration.

Sellaite

Address: http://sellaite.com/smsreceiver
Country of the phone number: Estonia
Requirements:No registration.8 O"

receivesmsonline.com/
receivefreesms.com/

sellaite.com/smsreceiver/
</pre>

<h1 id="免费匿名在线发短信跟传真"><a href="#免费匿名在线发短信跟传真" class="headerlink" title="免费匿名在线发短信跟传真"></a>免费匿名在线发短信跟传真</h1><pre class="prettyprint linenums">
www.afreesms.com/intl/china

传真 www.myfax.com/free/
</pre>

<p>转载至：<a href="http://www.138vps.com/freeot/532.html" target="_blank" rel="external">http://www.138vps.com/freeot/532.html</a></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/记录/">记录</a>
    </div>


      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-e4-bd-bf-e7-94-a8elk-e6-90-ad-e5-bb-ba-e7-a4-be-e5-b7-a5-e5-ba-93" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/07/03/e4-bd-bf-e7-94-a8elk-e6-90-ad-e5-bb-ba-e7-a4-be-e5-b7-a5-e5-ba-93/" class="article-date">
      <time datetime="2016-07-03T15:01:23.000Z" itemprop="datePublished">2016-07-03</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/03/e4-bd-bf-e7-94-a8elk-e6-90-ad-e5-bb-ba-e7-a4-be-e5-b7-a5-e5-ba-93/">使用ELK搭建社工库</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>来自： <a href="https://www.t00ls.net/articles-32593.html" target="_blank" rel="external">https://www.t00ls.net/articles-32593.html</a></p>
<div><br><div><br><br>0x01 ELK是什么东西?<br><br>ELK是ElasticSearch、Logstash、Kibana三个应用的缩写。 ElasticSearch简称ES，主要用来存储和检索数据。Logstash主要用来往ES中写入数据。Kibana主要用来展示数据。<br><br>0x02 为什么用ELK?<br><br>传统的社工库通常用MySQL数据库来进行搭建，在相当大的数据下检索效率非常低下。在这种关系型数据库中进行查询需要明确指定列名。而在ES中可用全文检索，并且在大数据的查询中的响应几乎都是毫秒级的，速度相当之快！ELK原本用在日志的大数据收集和分析，其可怕的速度作为社工库也是一种不错的选择。<br><br>0x03 安装和配置<br><br>前提你需要一个很大的硬盘,大约社工库容量2.5倍的硬盘(ES会创建相关索引)。<br><br>你需要安装java至少7以上的版本。并且配置JAVA_HOME环境变量.<br><br>因为安装非常简单，只需要下载相应的压缩文件，解压即可。在此不再赘述。<br><br>我此次演示的环境在Windows8.1上,ES在Linux中不能使用root权限运行。<br><br>ES 2.0.0  Logstash 2.0.0  Kibana 4.2.0<br><br>修改配置文件：<br><br>ES/config/elasticsearch.yml<br><br>cluster.name: esdemo (集群的描述信息)<br><br>node.name: 63 (节点名称)<br><br>network.host: 192.168.1.5 (绑定的IP地址)<br><br>http.port: 9200 (端口号 默认9200)<br><br>一些Linux环境需要修改 ES/bin/elasticsearch 文件 增加<br><br>export JAVA_HOME=JDK路径<br><br>启动 ES/bin/elasticsearch或者elasticsearch.bat 即可启动<br><br>然后访问 <a href="http://localhost/IP:9200" target="_blank" rel="external">http://localhost/IP:9200</a> 可查看是否正常运行<br><br>Kibana/config/kibana.yml<br><br>elasticsearch.url: “<a href="http://192.168.1.5:9200" target="_blank" rel="external">http://192.168.1.5:9200</a>“ 指定ES地址<br><br>执行Kibana/bin/kibana 或者 kibana.bat启动<br><br>查看 <a href="http://localhost:5601" target="_blank" rel="external">http://localhost:5601</a> 是否正常启动<br><br>ElasticSearch 天生就很好的支持分布式,如果环境允许可以多使用几台负载。<br><br>为了方便理解 把ES中的一些概念和MySQL进行对比<br><br>ES  index(索引)  type(类型)  document(文档)                field(字段)<br><br>MySQL database  table                row                column<br><br>0x04 社工库搭建<br><br>以上工作准备完成之后,就该进入搭建的阶段了.首先确定有哪些列名存在ES中，我自己存了10列，给大家做个参考.<br><br>nickname(昵称)、password(密码)、email(邮箱)、qq(QQ号)、telno(手机号码)、idno(身份证号码)、realname(真实姓名)、address(家庭住址)、salt(盐值)、from(数据来源)。相对来说我这样划分的还是蛮详细的。但是在用Logstash写入ES的过程当中就比较费时了。其实如果想偷懒，完全可以把现有的数据只作为一个field写入，也是可以查询出来的。但是这样会比较乱，看着很不舒服。<br><br>我现在的主要做法是对一些现有的CSV文件,使用脚本进行清洗，洗成我规定的这些字段的格式。如果是.sql文件，则直接丢进mysql,然后再导出csv文件。也就是说不同的网站数据库最终全部是csv文件，并且是格式相同的csv。有字段不存在的则使用空字符替代。这样的话,可以在不更改logstash配置文件的情况下直接导入ES，也方便进行迁移。<br><br>配置logstash 文件(test.conf)<br><br></div><br><a href="http://dg2016.duapp.com/wp-content/uploads/2016/07/2016070315022290.png" target="_blank" rel="external"><img src="http://dg2016.duapp.com/wp-content/uploads/2016/07/2016070315022290.png" alt="20160301185523_2"></a><br><br>然后在logstash bin目录下面执行<br><br>Logstash.bat -f test.conf<br><br>就可以看到如下图:<br><br><a href="http://dg2016.duapp.com/wp-content/uploads/2016/07/2016070315025761.png" target="_blank" rel="external"><img src="http://dg2016.duapp.com/wp-content/uploads/2016/07/2016070315025761.png" alt="20160301185524_598"></a><br><br>正在往ES中写入数据。<br><br>在重复测试时，请注意要删除home目录下的sincedb文件。我提供了一段python代码来进行这些操作。<br><br><a href="http://dg2016.duapp.com/wp-content/uploads/2016/07/2016070315033686.png" target="_blank" rel="external"><img src="http://dg2016.duapp.com/wp-content/uploads/2016/07/2016070315033686.png" alt="20160301185524_192"></a><br><br>以上代码主要是用来删除创建的索引中的数据并且删除一些临时文件.<br><br>数据写完之后可以查看<br><br><a href="http://ip地址:9200/_cat/indices?v" target="_blank" rel="external">http://ip地址:9200/_cat/indices?v</a><br><br>来查看索引的信息<br><br>登录 Kibana<br><br><a href="http://localhost:5601/" target="_blank" rel="external">http://localhost:5601/</a><br><br>点击settings — index patterns Add new –输入你创建的index名称,点击create完成.<br><br>然后可以在Discover中进行搜索。<br><br><a href="http://dg2016.duapp.com/wp-content/uploads/2016/07/2016070315040631.png" target="_blank" rel="external"><img src="http://dg2016.duapp.com/wp-content/uploads/2016/07/2016070315040631.png" alt="20160301185524_512"></a><br><br>也可以指定字段名进行搜索 例如：telno:13588888888.该语法为lucene 语法.<br><br>Have fun!!!<br><br>PS:<br><br>1、如果一亿条数据，本机测试也是毫秒级的查询，目前3亿条数据，速度也是很快。<br><br>2、这三款软件全部开源。可以在ES的官方下载，下载之后，简单的配置即可使用。<br><br></div>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/数据库应用/">数据库应用</a>
    </div>


      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-e6-90-ad-e5-bb-ba-e5-9f-ba-e4-ba-8ephpmysqlcoreseek-e7-9a-84-e7-a4-be-e5-b7-a5-e5-ba-93" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/07/03/e6-90-ad-e5-bb-ba-e5-9f-ba-e4-ba-8ephpmysqlcoreseek-e7-9a-84-e7-a4-be-e5-b7-a5-e5-ba-93/" class="article-date">
      <time datetime="2016-07-02T18:26:02.000Z" itemprop="datePublished">2016-07-03</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/03/e6-90-ad-e5-bb-ba-e5-9f-ba-e4-ba-8ephpmysqlcoreseek-e7-9a-84-e7-a4-be-e5-b7-a5-e5-ba-93/">搭建基于PHP+Mysql+Coreseek的社工库</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>引用至 <a href="https://0x0d.im/archives/build-social-engineer-database-based-on-php-mysql-coreseek.html" target="_blank" rel="external">博客</a></p>
<p>之前下载过一些裤子，但是没怎么用过……一来是维护自己的社工库费时费力，二来在线的社工库也基本够用了。</p>
<p>后来导了一个10多G的裤子进 Mysql ，单表，数据有近2亿条，即使加了索引查起来也慢的不行，有时候还没有用暴力搜索文本内容的小工具查的快。于是查了下资料，试了试用 Coreseek 做全文索引，速度不错（毫秒级）。</p>
<p>从<a href="http://www.coreseek.cn/" target="_blank" rel="external">官网</a>下载最新版（4.1）的 Coreseek ，解压到某个目录，打开 etc 目录，里面有个 <code>csft_mysql.conf</code> 配置示例文件，贴一下我的配置文件（命名为 sed.conf ）：</p>
<p><pre class="prettyprint linenums">#源定义<br>source sed<br>{<br>    type                    = mysql<br>    sql_host                = localhost<br>    sql_user                = test<br>    sql_pass                = test<br>    sql_db                    = sed<br>    sql_port                = 3306<br>    sql_query_pre            = SET NAMES utf8<br>    sql_query                = SELECT <code>id</code>, <code>username</code>, <code>password</code>, <code>email</code>, <code>salt</code>, <code>order</code> FROM md5_sgk    #sql_query第一列id需为整数，username、password、email等作为字符串/文本字段，被全文索引<br>    sql_attr_uint            = id           #从SQL读取到的值必须为整数</pre></p>
<pre><code>#sql_field_string    = username
#sql_field_string    = password
#sql_field_string    = email
#sql_attr_timestamp        = date_added  #从SQL读取到的值必须为整数，作为时间属性
sql_query_info_pre      = SET NAMES utf8                                        #命令行查询时，设置正确的字符集
sql_query_info            = SELECT `id`, `username`, `password`, `email`, `salt`, `order` FROM md5_sgk WHERE id=$id #命令行查询时，从数据库读取原始数据信息
</code></pre><p>}</p>
<p>#index定义<br>index sed<br>{<br>    source            = sed           #对应的source名称<br>    path            = E:/SQL_DATA/coreseek/var/data/sed #请修改为实际使用的绝对路径，例如：/usr/local/coreseek/var/…<br>    docinfo            = extern<br>    mlock            = 0<br>    morphology        = none<br>    min_word_len        = 1<br>    ondisk_dict     = 1   #索引不载入内存而是保存在硬盘上<br>    html_strip                = 0</p>
<pre><code>#中文分词配置，详情请查看：http://www.coreseek.cn/products-install/coreseek_mmseg/
#charset_dictpath = /usr/local/mmseg3/etc/ #BSD、Linux环境下设置，/符号结尾
charset_dictpath = E:/SQL_DATA/coreseek/etc/ #Windows环境下设置，/符号结尾，最好给出绝对路径，例如：C:/usr/local/coreseek/etc/...
charset_type        = zh_cn.utf-8
</code></pre><p>}</p>
<p>#全局index定义<br>indexer<br>{<br>    mem_limit            = 1024M<br>}</p>
<p>#searchd服务定义<br>searchd<br>{<br>    listen                  =   9312<br>    read_timeout        = 5<br>    max_children        = 30<br>    max_matches            = 1000<br>    seamless_rotate        = 0<br>    preopen_indexes        = 0<br>    unlink_old            = 1<br>    pid_file = E:/SQL_DATA/coreseek/var/log/searchd_mysql.pid  #请修改为实际使用的绝对路径，例如：/usr/local/coreseek/var/…<br>    log = E:/SQL_DATA/coreseek/var/log/searchd_mysql.log        #请修改为实际使用的绝对路径，例如：/usr/local/coreseek/var/…<br>    query_log = E:/SQL_DATA/coreseek/var/log/query_mysql.log #请修改为实际使用的绝对路径，例如：/usr/local/coreseek/var/…<br>    binlog_path =                                #关闭binlog日志<br>}<br><br>具体的配置信息可以看看<a href="http://www.coreseek.cn/docs/coreseek_4.1-sphinx_2.0.1-beta.html" target="_blank" rel="external">官方手册</a>。</p>
<p>有些资料里使用了 <strong>sql_field_string</strong>，但是据测试很可能出现 <a href="http://sphinxsearch.com/bugs/view.php?id=1131" target="_blank" rel="external">too many string attributes (current index format allows up to 4 GB)</a> 这个错误，不知是不是因为是32位程序的原因，所以最好不要用，或者可以试试64位的 <strong><a href="http://sphinxsearch.com/downloads/release/" target="_blank" rel="external">Sphinx</a></strong>。</p>
<p>然后把 <strong>searchd</strong> 注册成服务 <code>searchd --install --config ..\etc\sed.conf</code>，以免每次使用都要在命令行窗口打开。</p>
<p>接着用 <code>indexer -c ..\etc\sed.conf --all --rotate</code> 建立全文索引。<br>如果有增量索引的还要合并索引（我测试的时候并没有做增量索引，可以参考<a href="http://blog.csdn.net/e421083458/article/details/21529969" target="_blank" rel="external">这篇文章</a>。）</p>
<p>索引建立完后试试能否正常搜索： <code>search -c ..\etc\sed.conf adwin</code> ，如果出现 search error: failed to open xxx.sph: No such file or directory 这个错误，可能原因有：</p>
<blockquote>
<p>It seems that</p>
<p>a) the lock files were lost somehow, and</p>
<p>b) you ran indexer without –rotate switch.</p>
<p>Normally, searchd would create .spl lock files on startup (and kill them on shutdown),</p>
<p>and indexer would then refuse to reindex without –rotate switch.</p>
<p>indexers sends SIGHUP to searchd when completed (and it should print that out). searchd</p>
<p>then does the following:</p>
<ol>
<li>waits for all children to exit</li>
<li>renames current index files to .old</li>
<li>renames .new index files to current</li>
<li>tries to load current index files</li>
<li>if something failed, it rollbacks current files from .old and new to .new</li>
</ol>
<p>In your case I would start with double checking directory access rights, users which both</p>
<p>indexer and searchd run under, etc.<br>据我的经验一般把 data 目录下的文件名里多出来的<code>.new</code>去掉就好。</p>
</blockquote>
<p>最后调用自带的 <strong>sphinxapi.php</strong> 即可，我直接用的 Ph4nt0m 的源码（界面用 Bootstrap 重写了下）：</p>
<p><pre class="prettyprint linenums"><br>&lt;?php<br>// 引用sphinxapi类<br>require “sphinxapi.php”;<br>//关闭错误提示<br>error_reporting(E_ALL &amp; ~E_NOTICE);<br>$num = 0;<br>if (!empty($_GET) &amp;&amp; !empty($_GET[‘q’])) {<br>    $Keywords = strip_tags(trim($_GET[‘q’]));<br>    if (!empty($_GET[‘m’]) &amp;&amp; 1 == $_GET[‘m’]) {<br>        $Keywords = substr(md5($Keywords), 8, 16);<br>    }<br>    if (!empty($_GET[‘m’]) &amp;&amp; 2 == $_GET[‘m’]) {<br>        $Keywords = md5($Keywords);<br>    }<br>    $cl = new SphinxClient();<br>    // 返回结果设置<br>    $cl-&gt;SetServer(‘127.0.0.1’, 9312);<br>    $cl-&gt;SetConnectTimeout(3);<br>    $cl-&gt;SetArrayResult(true);<br>    // 设置是否全文匹配<br>    if (!empty($_GET) &amp;&amp; !empty($_GET[‘f’])) {<br>        $cl-&gt;SetMatchMode(SPH_MATCH_ALL);<br>    } else {<br>        $cl-&gt;SetMatchMode(SPH_MATCH_ANY);<br>    }<br>    if (!empty($_GET) &amp;&amp; !empty($_GET[‘p’])) {<br>        $p = !intval(trim($_GET[‘p’])) == 0 ? intval(trim($_GET[‘p’])) - 1 : 0;<br>        $p = $p <em> 20;<br>        // 我在sed.conf 设置了最大返回结果数1000。但是我在生成页码的时候最多生成20页，我想能满足大部分搜索需求了。<br>        // 以下语句表示从P参数偏移开始每次返回20条。<br>        $cl-&gt;setLimits($p, 20);<br>    } else {<br>        $cl-&gt;setLimits(0, 20);<br>    }<br>    $res = $cl-&gt;Query(“.$Keywords.”, “</em>“);<br>    @mysql_connect(“localhost”, “test”, “test”); //数据库账号密码<br>    mysql_select_db(“sed”); //数据库库名名<br>    if (is_array($res[“matches”])) {<br>        foreach ($res[“matches”] as $docinfo) {<br>            $ids = $ids . $docinfo[id] . ‘,’;<br>        }<br>        $ids = rtrim($ids, ‘,’);<br>        $sql = “select * from md5_sgk where id in($ids)”; //注意修改表名<br>        mysql_query(“set names utf8”);<br>        $ret = mysql_query($sql);<br>        $num = mysql_num_rows($ret);<br>    }<br>}<br>?&gt;<br>&lt;!DOCTYPE html&gt;</pre></p>
<html><br><head><br>   <title>The Web of Answers</title><br>   <meta charset="UTF-8"><br>   <meta name="viewport" content="width=device-with,initial-scal=1"><br>   <link href="css/bootstrap.min.css" rel="stylesheet"><br>   <script src="js/jquery.js"></script><br>   <script src="js/bootstrap.min.js"></script><br>   <script><br>    function check(form){<br>        if(form.q.value==””){<br>          alert(“Not null !”);<br>          form.q.focus();<br>          return false;<br>        }<br>    }<br>    </script><br>   <style><br>        h1 {<br>            font-family: Times New Roman, Lucida Handwriting;<br>        }<br>        body {<br>            background-image: url(img/bg.jpg);<br>        }<br>   </style><br></head><br><body><br>    <div class="container" id="container"><br>        <div id="page-header"><br><br>#  The Web of Answers<br><br>        </div><br>        <div class="row"><br>        <form action="" method="get" class="form-horizontal" role="form"><br>            <div id="checkbox" class="col-md-6 col-md-offset-3"><br>                <label class="checkbox-inline"><br>                    <input type="checkbox" id="full" name="f" value="1">   完整匹配<br>                </label><br>                <label class="checkbox-inline"><br>                      <input type="checkbox" id="md5_16" name="m" value="1"><br>                       MD5匹配（16位）<br>                </label><br>                <label class="checkbox-inline"><br>                      <input type="checkbox" id="md5_32" name="m" value="2"><br>                       MD5匹配（32位）<br>                </label><br>            </div><br>            <div class="input-group col-md-6 col-md-offset-3"><br>                <input type="text" class="form-control" name="q" placeholder="请输入" value="<?php echo strip_tags(trim($_GET['q']));?>"><br>                    <div class="input-group-btn"><br>                        <button type="submit" class="btn btn-primary" onclick="check(form)">Search</button><br>                    </div><br>             </div><br>        </form><br>    </div><br><br>&lt;?php<br>if (0 == !$num) {<br>    echo “<div class="\"row\""><br>    <div class="\"alert" alert-success="" alert-dismissible="" col-md-10="" col-md-offset-1\"="" role="\"alert\""><br>    <button type="\"button\"" class="\"close\"" data-dismiss="\"alert\""><span aria-hidden="\"true\"">&times;</span><span class="\"sr-only\"">Close</span></button><br>    找到与<strong>&amp;nbsp{$Keywords}&amp;nbsp</strong>相关的结果 {$res[total_found]} 个。用时 {$res[time]} 秒。</div>“;<br>    echo “<div class="\"table-responsive" col-md-10="" col-md-offset-1\"=""><br>        <table class="\"table" table-striped="" table-hover\"=""><br>          <tr><br>          <th>Username</th><br>          <th>Email</th><br>          <th>Password</th><br>          <th>Salt</th><br>          <th>From</th><br>          </tr>“;<br>    while ($row = mysql_fetch_assoc($ret)) {<br>        echo “<tr><td>“ . $row[‘username’] . “</td>“;<br>        echo “<td>“ . $row[‘email’] . “</td>“;<br>        echo “<td>“ . $row[‘password’] . “</td>“;<br>        echo “<td>“ . $row[‘salt’] . “</td>“;<br>        echo “<td>“ . $row[‘order’] . “</td></tr>“;<br>    }<br>    echo “</table></div></div>“;<br>} else {<br>    if (!empty($_GET) &amp;&amp; !empty($_GET[‘q’])) {<br>        echo “<div class="\"alert" alert-warning="" alert-dismissible="" col-md-10="" col-md-offset-1\"="" role="\"alert\""><br>        <button type="\"button\"" class="\"close\"" data-dismiss="\"alert\""><span aria-hidden="\"true\"">&times;</span><span class="\"sr-only\"">Close</span></button><br>        找不到与<strong>&amp;nbsp{$Keywords}&amp;nbsp</strong>相关的结果。请更换其他关键词试试。</div></div>“;<br>    }<br>}<br>?&gt;<br>    <div id="pages"><br>    <center><br>        <nav><br><br>&lt;?php<br>if (0 == !$num) {<br>    $pagecount = (int) ($res[total_found] / 20);<br>    if (!($res[total_found] % 20) == 0) {<br>        $pagecount = $pagecount + 1;<br>    }<br>    if ($pagecount &gt; 20) {<br>        $pagecount = 20;<br>    }<br>    $highlightid = !intval(trim($_GET[‘p’])) == 0 ? intval(trim($_GET[‘p’])) : 1;<br>    for ($i = 1; $i &lt;= $pagecount; $i++) {<br>        if ($highlightid == $i) {<br>            echo “<em>   <a href="\">{$i}<span class="\"sr-only\"">(current)</span></a><br>“;<br>        } else {<br>            echo “</em>   <a href="\">{$i}</a><br>        </nav><br>    </center><br>    </div><br>    <div id="footer"><br><br>            The Web of Answers &copy;2010-2015 | Powered by b0rg<br><br>    </div><br>    <br></body><br></html>

<p><br><strong>效果：</strong><br><a href="http://dg2016.duapp.com/wp-content/uploads/2016/07/2016070317045815.png" target="_blank" rel="external"><img src="http://dg2016.duapp.com/wp-content/uploads/2016/07/2016070317045815.png" alt="2340039264"></a></p>
<p><strong>参考资料：</strong></p>
<blockquote>
<p><a href="http://zone.wooyun.org/content/9377" target="_blank" rel="external">MySQL+Sphinx+CoreSeek数据库查询脚本</a></p>
<p><a href="http://www.freebuf.com/articles/database/53139.html" target="_blank" rel="external">经验分享：社会工程学数据库搭建TIPS</a></p>
<p><a href="http://blog.csdn.net/e421083458/article/details/21529969" target="_blank" rel="external">搭建coreseek(sphinx+mmseg3)详细安装配置+php之sphinx扩展安装+php调用示例</a></p>
<p><a href="http://www.coreseek.cn/docs/coreseek_4.1-sphinx_2.0.1-beta.html" target="_blank" rel="external">Coreseek 4.1 参考手册</a></p>
</blockquote>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/数据库应用/">数据库应用</a>
    </div>


      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-ubuntu-e5-ae-89-e8-a3-85-e5-92-8c-e9-85-8d-e7-bd-aestrongswan" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/06/15/ubuntu-e5-ae-89-e8-a3-85-e5-92-8c-e9-85-8d-e7-bd-aestrongswan/" class="article-date">
      <time datetime="2016-06-15T14:58:28.000Z" itemprop="datePublished">2016-06-15</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/06/15/ubuntu-e5-ae-89-e8-a3-85-e5-92-8c-e9-85-8d-e7-bd-aestrongswan/">Ubuntu安装和配置strongSwan</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>记录在Ubuntu 14.04上安装和配置strongSwan的过程。</p>
<p>装完之后才发现只能在墙内翻腾，一番调查后发现客户端的IKE_AUTH包根本无法到达墙外的服务端，改端口也没用。不过好歹也折腾了一番，姑且记下来。</p>
<h2 id="编译安装strongSwan"><a href="#编译安装strongSwan" class="headerlink" title="编译安装strongSwan"></a>编译安装strongSwan</h2><p>Ubuntu 14.04仓库里的strongSwan是5.1.2版本的，稍微有点老，这里从官方网站下载最新的5.3.0版本。</p>
<div class="codehilite"><br><pre>cd /tmp<br>wget <a href="http://download.strongswan.org/strongswan-5.3.0.tar.bz2" target="_blank" rel="external">http://download.strongswan.org/strongswan-5.3.0.tar.bz2</a><br>tar xvf strongswan-5.3.0.tar.bz2<br>cd strongswan-5.3.0<br></pre><br></div><br>在编译strongSwan之前先安装一下依赖库:<br><div class="codehilite"><br><pre>sudo apt-get install libpam0g-dev libssl-dev build-essential<br></pre><br></div><br>参考网上的一篇<a href="https://hjc.im/shi-yong-strongswanda-jian-ipsecikev2-vpn/" target="_blank" rel="external">教程</a>，使用如下参数编译strongSwan。另外，如果你的VPS是OpenVZ服务器<sup id="fnref:1"><a href="http://blog.atime.me/note/strongSwan-setup-and-config-on-ubuntu-server.html#fn:1" target="_blank" rel="external">1</a></sup>，据说还应该再加上一个<code>--enable-kernel-libipsec</code>参数。<br><div class="codehilite"><br><pre>./configure  –enable-eap-identity –enable-eap-md5 \<br>–enable-eap-mschapv2 –enable-eap-tls –enable-eap-ttls –enable-eap-peap  \<br>–enable-eap-tnc –enable-eap-dynamic –enable-eap-radius –enable-xauth-eap  \<br>–enable-xauth-pam  –enable-dhcp  –enable-openssl  –enable-addrblock –enable-unity  \<br>–enable-certexpire –enable-radattr –enable-openssl –disable-gmp<br></pre><br></div><br>最后编译并安装<br><div class="codehilite"><br><pre>make<br>sudo make install<br></pre><br></div><br>如果在configure的时候没有配置<code>--prefix</code>参数，那么strongSwan默认被安装到<code>/usr/local</code>目录下，配置文件安装在<code>/usr/local/etc</code>目录下。<br><br>## 创建密钥和证书<br><br>这里可参考这篇<a href="https://www.zeitgeist.se/2013/11/22/strongswan-howto-create-your-own-vpn/" target="_blank" rel="external">文章</a>和官方wiki上的一篇<a href="https://wiki.strongswan.org/projects/strongswan/wiki/SimpleCA" target="_blank" rel="external">教程</a>。<br><br>为方便，下面的命令不再加sudo，可以直接su。<br><br>### 自签署根证书<br><br>首先创建一个根证书的RSA密钥:<br><div class="codehilite"><br><pre>cd /usr/local/etc/ipsec.d<br><br>ipsec pki –gen –type rsa \<br>–size 4096 –outform pem \<br>&gt; private/strongSwanCAKey.pem<br></pre><br></div><br>然后使用这个密钥自签署一个根证书(公钥):<br><div class="codehilite"><br><pre>ipsec pki –self –ca –lifetime 3650 \<br>–in private/strongSwanCAKey.pem –type rsa \<br>–dn “C=CH, O=strongSwan, CN=strongSwan Root CA” \<br>–outform pem &gt; cacerts/strongSwanCACert.pem<br></pre><br></div>

<h3 id="服务端密钥和证书"><a href="#服务端密钥和证书" class="headerlink" title="服务端密钥和证书"></a>服务端密钥和证书</h3><p>接下来，创建服务端使用的密钥和证书，<strong>记得</strong>把<code>--dn</code>和<code>--san</code>参数的<code>myvpn.domain</code>改成自己VPS的域名或IP<sup id="fnref:2"><a href="http://blog.atime.me/note/strongSwan-setup-and-config-on-ubuntu-server.html#fn:2" target="_blank" rel="external">2</a></sup><sup id="fnref:3"><a href="http://blog.atime.me/note/strongSwan-setup-and-config-on-ubuntu-server.html#fn:3" target="_blank" rel="external">3</a></sup>。</p>
<div class="codehilite"><br><pre>ipsec pki –gen –type rsa –size 2048 \<br>–outform pem &gt; private/strongSwanServerKey.pem<br><br>ipsec pki –pub –in private/strongSwanServerKey.pem –type rsa | \<br>ipsec pki –issue –lifetime 730 \<br>–cacert cacerts/strongSwanCACert.pem \<br>–cakey private/strongSwanCAKey.pem \<br>–dn “C=CH, O=strongSwan, CN=myvpn.domain” \<br>–san myvpn.domain \<br>–flag serverAuth –flag ikeIntermediate \<br>–outform pem &gt; certs/strongSwanServerCert.pem<br></pre><br></div>

<h3 id="客户端密钥和证书"><a href="#客户端密钥和证书" class="headerlink" title="客户端密钥和证书"></a>客户端密钥和证书</h3><p>然后生成客户端的密钥和证书，生成证书时<strong>记得</strong>把<code>--dn</code>和<code>--san</code>参数的邮件地址<code>aabb@myvpn.domain</code>改成自己的。</p>
<div class="codehilite"><br><pre>ipsec pki –gen –type rsa –size 2048 \<br>–outform pem &gt; private/clientAABBKey.pem<br><br>ipsec pki –pub –in private/clientAABBKey.pem –type rsa | \<br>ipsec pki –issue –lifetime 730 \<br>–cacert cacerts/strongSwanCACert.pem \<br>–cakey private/strongSwanCAKey.pem \<br>–dn “C=CH, O=strongSwan, CN=aabb@myvpn.domain” \<br>–san aabb@myvpn.domain \<br>–outform pem &gt; certs/clientAABBCert.pem<br></pre><br></div><br>为了方便在Win7和IOS客户端上使用，我们把根证书和客户端的密钥+证书打包成一个<a href="http://en.wikipedia.org/wiki/PKCS_12" target="_blank" rel="external">PKCS #12</a>文件。这一步会提示输入密码，也可以留空。<br><div class="codehilite"><br><pre>openssl pkcs12 -export -inkey private/clientAABBKey.pem \<br>-in certs/clientAABBCert.pem -name “AABB’s Client Certificate” \<br>-certfile cacerts/strongSwanCACert.pem \<br>-caname “strongSwan Root CA” \<br>-out private/clientAABB.p12<br></pre><br></div>

<h3 id="设置密钥和证书权限"><a href="#设置密钥和证书权限" class="headerlink" title="设置密钥和证书权限"></a>设置密钥和证书权限</h3><p><strong>记得</strong>设置一下证书目录和文件的权限:</p>
<div class="codehilite"><br><pre>chmod 700 cacerts certs private crls<br>chmod 600 cacerts/<em> certs/</em> private/<em><br></em></pre><br></div><br>最后，罗列一下刚刚创建的密钥和证书:<br><div class="codehilite"><br><pre>cacerts/:<br>    strongSwanCACert.pem        –   根证书，用于签署服务端和客户端的证书<br><br>certs/:<br>    clientAABBCert.pem          –  <em> 客户端aabb的证书<br>    strongSwanServerCert.pem    –  服务端的证书<br><br>private/:<br>    strongSwanCAKey.pem         –  根证书的密钥<br>    clientAABBKey.pem           –  </em> 客户端aabb的密钥<br>    clientAABB.p12              –  <em> 根证书+客户端密钥+客户端证书<br>    strongSwanServerKey.pem     –  服务端的密钥<br></em></pre><br></div><br>上面加()号的都是需要下载到客户端安装的文件。<br><br>### 吊销客户端证书<br><br>有时候可能想吊销AABB客户端的证书，可以使用如下命令:<br><div class="codehilite"><br><pre>ipsec pki –signcrl –reason key-compromise \<br>–cacert cacerts/strongSwanCACert.pem \<br>–cakey private/strongSwanCAKey.pem \<br>–cert certs/clientAABBCert.pem \<br>–outform pem &gt; crls/crl.pem<br></pre><br></div><br>如果还想吊销一个客户端证书，参考这篇<a href="https://www.zeitgeist.se/2013/11/22/strongswan-howto-create-your-own-vpn/" target="_blank" rel="external">教程</a>，需要先将老的crl.pem文件保存到一个临时文件里:<br><div class="codehilite"><br><pre>cp crls/crl.pem crl.pem.tmp<br><br>ipsec pki –signcrl –reason key-compromise \<br>–cacert cacerts/strongSwanCACert.pem \<br>–cakey private/strongSwanCAKey.pem \<br>–cert certs/StolenClientCert.pem \<br>–lastcrl crl.pem.tmp \<br>–outform pem &gt; crls/crl.pem<br><br>rm crl.pem.tmp<br></pre><br></div>

<h2 id="配置strongSwan"><a href="#配置strongSwan" class="headerlink" title="配置strongSwan"></a>配置strongSwan</h2><h3 id="ipsec-conf"><a href="#ipsec-conf" class="headerlink" title="ipsec.conf"></a>ipsec.conf</h3><p>ipsec.conf的详细参数说明可参考官方的<a href="https://wiki.strongswan.org/projects/strongswan/wiki/IpsecConf" target="_blank" rel="external">wiki</a>。</p>
<div class="codehilite"><br><pre>sudo cat &gt; /usr/local/etc/ipsec.conf &lt;&lt; EOF<br>config setup<br>    uniqueids=never<br><br>conn ubuntu-networkmanager-strongswan<br>    keyexchange=ikev2<br>    left=%defaultroute<br>    leftauth=pubkey<br>    leftsubnet=0.0.0.0/0<br>    leftcert=strongSwanServerCert.pem<br>    right=%any<br>    rightauth=pubkey<br>    rightsourceip=10.31.2.0/24<br>    rightcert=clientAABBCert.pem<br>    auto=add<br>EOF<br></pre><br></div><br>注意rightsourceip这里配置的ip段，稍后要添加iptables规则。<br><br>### ipsec.secrets<br><br>这里保存服务器证书的密钥和登录密码等内容，如果密钥有密码，也要在后面加上，详细说明见<a href="https://wiki.strongswan.org/projects/strongswan/wiki/IpsecSecrets" target="_blank" rel="external">官方文档</a>。<br><div class="codehilite"><br><pre>sudo cat &gt; /usr/local/etc/ipsec.secrets &lt;&lt; EOF<br>: RSA strongSwanServerKey.pem<br>: PSK “A quick bRown FOX jumps”<br>: XAUTH “0ver a Lazy 0ld Dog”<br>aabb %any : EAP “BBAA”<br>EOF<br></pre><br></div>

<h3 id="strongswan-conf"><a href="#strongswan-conf" class="headerlink" title="strongswan.conf"></a>strongswan.conf</h3><p>配置strongswan，官方文档见<a href="https://wiki.strongswan.org/projects/1/wiki/StrongswanConf" target="_blank" rel="external">这里</a>。</p>
<div class="codehilite"><br><pre>sudo cat &gt; /usr/local/etc/strongswan.conf &lt;&lt; EOF<br>charon {<br>    load_modular = yes<br>    duplicheck.enable = no<br>    compress = yes<br>    plugins {<br>        include strongswan.d/charon/<em>.conf<br>    }<br>    dns1 = 8.8.8.8<br>    dns2 = 8.8.4.4<br>    nbns1 = 8.8.8.8<br>    nbns2 = 8.8.4.4<br>}<br>include strongswan.d/</em>.conf<br>EOF<br></pre><br></div>

<h3 id="charon-logging-conf"><a href="#charon-logging-conf" class="headerlink" title="charon-logging.conf"></a>charon-logging.conf</h3><p>strongswan的默认配置会把日志写到系统日志里，可以参考<a href="https://wiki.strongswan.org/projects/strongswan/wiki/LoggerConfiguration" target="_blank" rel="external">官方文档</a>将日志写入一个单独的文件。</p>
<div class="codehilite"><br><pre>sudo cat &gt; /usr/local/etc/strongswan.d/charon-logging.conf &lt;&lt; EOF<br>charon {<br>    filelog {<br>        /var/log/strongswan.log {<br>            append = yes<br>            default = 1<br>            flush_line = yes<br>            ike_name = yes<br>            time_format = %b %e %T<br>        }<br>    }<br>}<br>EOF<br></pre><br></div>

<h2 id="系统配置"><a href="#系统配置" class="headerlink" title="系统配置"></a>系统配置</h2><h3 id="ip转发"><a href="#ip转发" class="headerlink" title="ip转发"></a>ip转发</h3><p>修改<code>/etc/sysctl.conf</code>，启用ip转发，取消注释。</p>
<div class="codehilite"><br><pre>net.ipv4.ip_forward = 1<br></pre><br></div><br>然后导入配置<br><div class="codehilite"><br><pre>sudo sysctl -p<br></pre><br></div>

<h3 id="iptables配置"><a href="#iptables配置" class="headerlink" title="iptables配置"></a>iptables配置</h3><p>先备份下当前的配置:</p>
<div class="codehilite"><br><pre>sudo iptables-store &gt; ~/iptables.rules<br></pre><br></div><br>用下面的命令确认下网络接口，如果不是eth0，注意替换成实际的接口。<br><div class="codehilite"><br><pre>ip route show | grep ‘^default’ | sed -e ‘s/.<em> dev ([^ ]</em>).*/\1/‘<br></pre><br></div><br>添加如下规则:<br><div class="codehilite"><br><pre>iptables -A FORWARD -m state –state RELATED,ESTABLISHED -j ACCEPT<br>iptables -A FORWARD -s 10.31.2.0/24  -j ACCEPT<br>iptables -A INPUT -i eth0 -p esp -j ACCEPT<br>iptables -A INPUT -i eth0 -p udp –dport 500 -j ACCEPT<br>iptables -A INPUT -i eth0 -p tcp –dport 500 -j ACCEPT<br>iptables -A INPUT -i eth0 -p udp –dport 4500 -j ACCEPT<br>iptables -A FORWARD -j REJECT<br>iptables -t nat -A POSTROUTING -s 10.31.2.0/24 -o eth0 -j MASQUERADE<br><br># 解决有的网站无法访问的问题<br>iptables -t mangle -A FORWARD -o eth0 -p tcp -m tcp \<br>–tcp-flags SYN,RST SYN -m tcpmss –mss 1361:1536 \<br>-j TCPMSS –set-mss 1360<br></pre><br></div>

<h2 id="启动strongSwan服务"><a href="#启动strongSwan服务" class="headerlink" title="启动strongSwan服务"></a>启动strongSwan服务</h2><p>启动和停止服务</p>
<div class="codehilite"><br><pre>sudo ipsec start<br>sudo ipsec stop<br></pre><br></div><br>也可以下载一个init脚本:<br><div class="codehilite"><br><pre>sudo wget -O /etc/init.d/strongswan \<br><a href="https://raw.githubusercontent.com/strongswan/strongswan/master/packages/strongswan/debian/strongswan-starter.ipsec.init" target="_blank" rel="external">https://raw.githubusercontent.com/strongswan/strongswan/master/packages/strongswan/debian/strongswan-starter.ipsec.init</a><br><br># 改一下ipsec的路径并添加执行权限<br>sudo sed -i ‘s|DAEMON=/usr/sbin|DAEMON=/usr/local/sbin|’ /etc/init.d/strongswan<br>sudo chmod +x /etc/init.d/strongswan<br></pre><br></div><br>以后就可以用service命令启动了<br><div class="codehilite"><br><pre>sudo service strongswan start<br>sudo service strongswan stop<br>sudo service strongswan restart<br></pre><br></div>

<h2 id="客户端配置"><a href="#客户端配置" class="headerlink" title="客户端配置"></a>客户端配置</h2><p>以Ubuntu 14.04为例，安装以下软件包:</p>
<div class="codehilite"><br><pre>sudo apt-get install network-manager-strongswan<br></pre><br></div><br>然后会自动安装相应的依赖包。注意strongswan和openswan不兼容，如果之前安装过openswan则会自动被卸载，相应的，l2tp vpn也会无法再使用。<br><br>可参考官方的NetworkManager<a href="https://wiki.strongswan.org/projects/strongswan/wiki/NetworkManager" target="_blank" rel="external">配置说明</a>。<br><br>## 常见问题<br><br>### Necessary secrets not provided<br><br>使用ubuntu的NetworkManager创建的strongSwan vpn连接(pubkey)报错:<br><div class="codehilite"><br><pre>Necessary secrets for the VPN connection were not provided.<br></pre><br></div><br>问题应该是NetworkManager没法从gnome-keyring获取密钥的密码引起的，安装完network-manager-strongswan包后重启下客户端操作系统(或者直接重启gnome-keyring-daemon服务)。<br><br>### 有的网站无法访问<br><br>问题表现为有的网站能正常访问，而有的网站死活刷不出来，在服务器端使用tcpdump可以捕获到如下错误:<br><div class="codehilite"><br><pre> ICMP xxx.xxx.xxx.xxx unreachable - need to frag (mtu 1422), length 556<br></pre><br></div><br>应该就是所谓的<a href="https://www.zeitgeist.se/2013/11/26/mtu-woes-in-ipsec-tunnels-how-to-fix/" target="_blank" rel="external">mtu问题</a>。<br><br>解决方法参考上面的文章，添加一条iptables规则:<br><div class="codehilite"><br><pre>iptables -t mangle -A FORWARD -o eth0 -p tcp -m tcp \<br>–tcp-flags SYN,RST SYN -m tcpmss –mss 1361:1536 \<br>-j TCPMSS –set-mss 1360<br></pre><br></div><br>注意，接口<code>-o eth0</code>一定要设置对，俺就在这里被坑了很久。<br><br>### 无法访问外部网站或IP<br><br>首先考虑配置（证书）是否正确，从命令行启动，看是否有什么异常输出。<br><div class="codehilite"><br><pre>sudo ipsec start<br># conn1 是/usr/local/etc/ipsec.conf里conn的名字<br>sudo ipsec up conn1<br></pre><br></div><br>其次，检查服务端的iptables是否正确配置，特别是接口是否配置正确，比如eth1写成了eth0。<br><br>## 参考资料<a href="http://blog.atime.me/note/strongSwan-setup-and-config-on-ubuntu-server.html#35808e" target="_blank" rel="external">¶</a><br><br><em>   <a href="https://hjc.im/shi-yong-strongswanda-jian-ipsecikev2-vpn/" target="_blank" rel="external">使用Strongswan搭建IPSec/IKEv2 VPN</a>
</em>   <a href="https://www.zeitgeist.se/2013/11/22/strongswan-howto-create-your-own-vpn/" target="_blank" rel="external">strongSwan 5: How to create your own private VPN</a><br>*   <a href="https://wiki.strongswan.org/projects/strongswan/wiki/SimpleCA" target="_blank" rel="external">Setting-up a Simple CA Using the strongSwan PKI Tool</a><br><br>## 脚注<a href="http://blog.atime.me/note/strongSwan-setup-and-config-on-ubuntu-server.html#content-references" target="_blank" rel="external">¶</a><br><br><div class="footnote"><br><br>1.  可以安装<code>virt-what</code>包来查看VPS使用的虚拟化技术。<br>2.  <a href="https://wiki.strongswan.org/projects/strongswan/wiki/Win7CertReq" target="_blank" rel="external">strongSwan Wiki#Requirements for certificates used with Windows 7</a>. 2015.04.08<br>3.  <a href="https://wiki.strongswan.org/projects/strongswan/wiki/IOS_%28Apple%29#Certificate-requirements-for-iOS-interoperability" target="_blank" rel="external">strongSwan Wiki#Certificate requirements for iOS interoperability</a>. 2015.04.08<br></div>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/记录/">记录</a>
    </div>


      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/15/">15</a><a class="extend next" rel="next" href="/page/3/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                <i class="fa fa-copyright"></i> 
                2016 Any_冰
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="快速、简洁且高效的博客框架">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="简而不减 Hexo 双栏博客主题  v3.5">Yelee</a> by MOxFIVE <i class="fa fa-heart animated infinite pulse"></i>
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" title="本站到访数"><i class="fa fa-user" aria-hidden="true"></i><span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>| </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit"  title="本页阅读量"><i class="fa fa-eye animated infinite pulse" aria-hidden="true"></i><span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>
    </div>
    
<script data-main="/js/main.js" src="//cdn.bootcss.com/require.js/2.2.0/require.min.js"></script>

    <script>
        $(document).ready(function() {
            var iPad = window.navigator.userAgent.indexOf('iPad');
            if (iPad > -1 || $(".left-col").css("display") === "none") {
                var bgColorList = ["#9db3f4", "#414141", "#e5a859", "#f5dfc6", "#c084a0", "#847e72", "#cd8390", "#996731"];
                var bgColor = Math.ceil(Math.random() * (bgColorList.length - 1));
                $("body").css({"background-color": bgColorList[bgColor], "background-size": "cover"});
            }
            else {
                var backgroundnum = 5;
                var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
                $("body").css({"background": backgroundimg, "background-attachment": "fixed", "background-size": "cover"});
            }
        })
    </script>





<div class="scroll" id="scroll">
    <a href="#" title="返回顶部"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" onclick="load$hide();" title="查看评论"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="转到底部"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    // Open in New Window
    
        var oOpenInNew = {
            
            
            
            
            
            
             archives: ".archive-article-title", 
             miniArchives: "a.post-list-link", 
            
             friends: "#js-friends a", 
             socail: ".social a" 
        }
        for (var x in oOpenInNew) {
            $(oOpenInNew[x]).attr("target", "_blank");
        }
    
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>